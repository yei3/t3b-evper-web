# Build a Vue.js using yarn and deploy .

trigger:
    - master

pool:
  name: Hosted Windows 2019 with VS2019
  demands: azureps

steps:
- task: geeklearningio.gl-vsts-tasks-yarn.yarn-installer-task.YarnInstaller@3
  displayName: 'Use Yarn'
  inputs:
    checkLatest: true
- task: geeklearningio.gl-vsts-tasks-yarn.yarn-task.Yarn@3
  displayName: 'Yarn Install'

- task: geeklearningio.gl-vsts-tasks-yarn.yarn-task.Yarn@3
  displayName: 'Yarn Build'
  inputs:
    arguments: 'build --fix'

- powershell: 'Install-Module -Name AzureRM -AllowClobber -Force'
  displayName: 'PowerShell Script'

- task: AzureFileCopy@3
  displayName: 'AzureBlob File Copy'
  inputs:
    SourcePath: dist
    azureSubscription: 'T3B-EvPer'
    Destination: AzureBlob
    storage: t3bevperqa
    ContainerName: '$web'
